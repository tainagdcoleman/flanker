#:kivy 1.10.1

<Start>:
    BoxLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        orientation: 'vertical'
        GridLayout:
            row_force_default: True
            row_default_height: 40
            cols: 2
            

            Label:
                size_hint_x: None 
                width: 250
                text: 'Nome:'
                font_size: 24
                color: 0,0,0,1  
            
            TextInput:
                id: name  
                text: ''
                on_text: root.update('nome', self.text)
                font_size: 24
                
                
            Label:
                size_hint_x: None 
                width: 250
                text: 'Data de nascimento:'
                font_size: 24
                color: 0,0,0,1  
            TextInput:
                id: dob  
                text: '' 
                on_text:  root.update('nasc', self.text)
                font_size: 24

            Label:
                size_hint_x: None 
                width: 250
                font_size: 24
                color: 0,0,0,1  
                text: 'Regi√£o:'
            TextInput:
                id: region  
                text: ''  
                on_text: root.update('regiao', self.text)
                font_size: 24

            Label:
                size_hint_x: None 
                width: 250
                text: 'Salvar Como:'
                color: 0,0,0,1
                font_size: 24
            BoxLayout:
                TextInput:
                    id: save_location
                    text: root.save_dir
                    on_text: root.update('save_dir', self.text)
                    font_size: 24
                Button:
                    size_hint_x: None 
                    width: 100
                    text: 'Escolher'
                    on_release: root.show_load()
        
        BoxLayout:
            Button:
                text: "Flanker"
                font_size: 40
                disabled: root.games_disabled
                on_release: root.start_game('flanker')
            
                
            Button:
                text: "List Sorting"
                font_size: 40
                disabled: root.games_disabled
                on_release: root.start_game('memory')

<LoadDialog>:
    BoxLayout:
        size: root.size
        pos: root.pos
        orientation: "vertical"
        FileChooserListView:
            id: filechooser

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()

            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)

<Flanker>:
    GridLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: "horizontal"
            size: root.width, root.height - 50
            pos: 0, 50 
            Image:
                source: None if len(root.content) <= 0 else (root.right_image if root.content[root.counter][0] else root.left_image)
            Image:
                source: None if len(root.content) <= 0 else (root.right_image if root.content[root.counter][0] else root.left_image)

            Image:
                source: None if len(root.content) <= 0 else (root.right_image if root.content[root.counter][1] else root.left_image)

            Image:
                source: None if len(root.content) <= 0 else (root.right_image if root.content[root.counter][0] else root.left_image)
            Image:
                source: None if len(root.content) <= 0 else (root.right_image if root.content[root.counter][0] else root.left_image)

        Button:
            text: "Quit"
            pos: 0, 0
            size: root.width / 5, 50
            on_release: root.manager.current = 'start'
       
<Memory>:
    GridLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: "horizontal"
            size: root.width, root.height - 50
            pos: 0, 50 
            Image:
                source: None if len(root.content) <= 0 else root.paths[root.content[root.counter][root.inner_counter]]
        Button:
            text: "Quit"
            pos: 0, 0
            size: root.width / 5, 50
            on_release: root.manager.current = 'start'

<Instruction>:
    GridLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        
        Button:
            text: "Quit"
            pos: 0, 0
            size: root.width / 5, 50
            on_release: root.manager.current = 'start'
            

        BoxLayout:
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            orientation: "vertical"
            size: root.width, root.height - 50
            pos: 0, 50  
            Label:
                text: '' if len(root.instructions) <= 0 else root.instructions[root.counter]['title']
                text_size: root.width, None
                halign: 'center'
                valign: 'top'
                padding: 20, 20
                bold: True 
                font_size: 30
                color: 0,0,0,1
                size_hint: 1, 0.25
            Image:
                source: None if len(root.instructions) <= 0 else root.instructions[root.counter]['image']
                size_hint: 1, 0.5
            Label:
                text: '' if len(root.instructions) <= 0 else root.instructions[root.counter]['prompt']
                text_size: root.width, None
                halign: 'center'
                valign: 'top'
                padding: 20, 20
                font_size: 24
                color: 0,0,0,1
                size_hint: 1, 0.25

        Button:
            text: "Next"
            pos: root.width - (root.width / 5), 0
            size: root.width / 5, 50
            on_release: root.next()
